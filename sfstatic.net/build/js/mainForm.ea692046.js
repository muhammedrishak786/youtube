(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{2:function(t,n,a){"use strict";t.exports=window.$},297:function(t,n,a){"use strict";(function(t){var n=a(1)(a(8));window.newMainForm={formContainerSelector:".open-link-form-all-block",$formsContainer:null,oldViewClassName:"open-link-form-old",oldViewId:"link-form-old-cont",i18n:{},init:function(t,n){this.i18n=t,this.captchaRequired=n},setView:function(){this.$formsContainer||(this.$formsContainer=t(this.formContainerSelector)),this.isFormInitialized()||(this.setForm(),this.captchaRequired&&this.showCaptcha())},isFormInitialized:function(){return!!this.$formsContainer&&!!this.$formsContainer.hasClass(this.oldViewClassName)},triggerFormReadyEvent:function(){t(document).trigger("sf_form:ready")},setForm:function(n){var a=this;this.isFormInitialized()||(this.$formsContainer.addClass(this.oldViewClassName),sf.setFormIds({container:"#"+this.oldViewId}),_sf.mobile?document.body.classList.add("search-panel__mobile"):(t("#sf_submit").text(this.i18n.download),document.body.classList.add("search-panel"),this.appendInstructions()),this.triggerFormReadyEvent(),this.$formsContainer.find(".sk-wave").hide(),this.setHeader()||document.addEventListener("DOMContentLoaded",(function(t){a.setHeader()})))},appendInstructions:function(){if(!t(".main-form__wrapper").length){var n=this.i18n.howToDownload||"",a="".concat(_sf.cdnRoot,"img/mainForm"),e='<div class="main-form__wrapper">\n        <button class="main-form__button" type="button">'.concat(n,'</button>\n        <div class="main-form__video">\n        <video width="auto" height="auto" poster="').concat(a,'/search-panel-img.png" playsinline loop muted controls class="search-result-video">\n        <source src="').concat(a,'/search-panel-video.mp4" type="video/mp4">\n        </video>\n        </div>\n        </div>');t("#sf_form").append(e).on("click",".main-form__button",(function(){t(".main-form__button").hide(),t(".main-form__video").show(),t(".search-result-video")[0].play()}))}},setHeader:function(n){var a=t("h1:first");if(!a.length)return!1;var e=a.html(),o='<h1 class="search-panel__mobile__header">'.concat(e,"</h1>");a.remove(),t(n?".downloader-2.downloader-2-part2":".downloader-2.downloader-2-part1").prepend(o);var i,r="sf_form:header_ready";try{i=new Event(r)}catch(t){document.createEvent?(i=document.createEvent("Event")).initEvent(r,!1,!1):(i=document.createEventObject()).type=r}return document.dispatchEvent(i),!0},removeFormId:function(){var n=sf.getFormConst();for(var a in n)t("#"+n[a]).attr("id","")},showCaptcha:function(){var a=t(".downloader-2-part1 .l-box");return!a.find(".".concat("main-form-captcha")).length&&(a.append('\n        <div class="'.concat("main-form-captcha",'" style="margin: 10px 0;">\n          Please, enter the code: <input type="text" id="captcha" name="captcha" size="6" class="">\n          <div style="margin-top: 10px"><img src="/tools/captcha/antibot.php?id=mainform&rnd=').concat((0,n.default)(),'" id="js-main-form-captcha">\n            <a href="#" class="reload-captcha-btn" data-captcha="#js-main-form-captcha">Reload</a></div>\n        </div>\n      ')).on("click",".reload-captcha-btn[data-captcha]",(function(a){a.preventDefault();var e=t(a.currentTarget).data("captcha"),o=t(e).get(0);o&&o.src&&(o.src=o.src.replace(/rnd=[d.]+/i,"rnd="+(0,n.default)()+Math.random()))})),!0)},reloadCaptcha:function(){this.showCaptcha()||t(".downloader-2-part1 .l-box .reload-captcha-btn[data-captcha]").click()}}}).call(this,a(2))}},[[297,1,0]]]);